# Daily Bug Fix: 2026-02-25 10:15

**Time:** 10:15 AM
**Focus:** B4 - Analytics page crash

## Bug Report

**B4:** `Cannot read properties of undefined (reading 'toLocaleString')`
- **Channel:** #bugs (Slack)
- **Timestamp:** 2026-02-25T10:13:34.886Z
- **File:** `app/app/analytics/page.tsx` (line 198)
- **Error:** `overview.totalSpend` was undefined

## Root Cause

Analytics page assumes all data fields exist, but when no data exists (empty database/new user), fields are undefined.

## Fix Applied

Added nullish coalescing (`?? 0`) to all numeric fields:

```typescript
// Before:
€{overview.totalSpend.toLocaleString()}

// After:
€{(overview.totalSpend ?? 0).toLocaleString()}
```

**Fields Fixed:**
1. `overview.totalSpend` — Total spend card
2. `item.amount` — Spend by category
3. `item.percentage` — Category percentage
4. `supplier.winRate` — Supplier win rate
5. `supplier.quoteCount` — Quote count
6. `supplier.totalValue` — Supplier total value

## Verification

- ✅ Build: Successful
- ✅ E2E Tests: 5/5 passing
- ✅ Git Commit: `05aaa27`

## Files Changed

- `app/app/analytics/page.tsx` — Added nullish coalescing
- `DAILY_BACKLOG.md` — Updated bug status
- `RELEASE_NOTES.md` — Added v1.1.5 notes

---

**Status:** Ready to post to #procure-ai
**Notification:** @freskhy — B4 fixed!